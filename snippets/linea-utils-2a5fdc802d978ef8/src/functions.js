function getDateWithTime(){var e=new Date;return e.getDate()+"/"+(e.getMonth()+1)+"/"+e.getFullYear()+";"+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()}function getUtcDateWithTime(){var e=new Date;return e.getUTCDate()+"/"+(e.getUTCMonth()+1)+"/"+e.getUTCFullYear()+";"+e.getUTCHours()+":"+e.getUTCMinutes()+":"+e.getUTCSeconds()}function hiddenOfflinePopUp(){var e=document.getElementById("offline-screen");null!=e&&e.setAttribute("class","is-hidden")}function showOfflinePopUp(){var e=document.getElementById("offline-screen"),t=(e.setAttribute("class","is-overlay"),e.style.display="block",document.createElement("div")),o=(t.setAttribute("class","is-overlay is-full-screen is-flex is-flex-direction-column is-justify-content-center is-align-items-center bg-pink-transparent"),e.appendChild(t),(e=document.createElement("div")).setAttribute("class","card mx-5 p-4 is-border-semirounded has-background-white is-shadow has-text-centered"),t.appendChild(e),(t=document.createElement("h3")).innerText="Sin conexión",t.setAttribute("class","title is-4 text-new-purple axiforma-bold mt-2 pb-3"),e.appendChild(t),(t=document.createElement("span")).setAttribute("class","icon fa-stack is-large text-new-purple m-2"),t.setAttribute("style","height: 3em !important; width: 6em !important;"),e.appendChild(t),document.createElement("i"));o.setAttribute("class","fas fa-wifi fa-stack-1x"),o.setAttribute("style","height:6em; width:6em;"),t.appendChild(o),(o=document.createElement("i")).setAttribute("class","fas fa-slash fa-stack-2x"),o.setAttribute("style","height:6em; width:6em;"),t.appendChild(o),(t=document.createElement("h5")).innerText="Parece que no tienes conexión. Vuelve a intentar",t.setAttribute("class","subtitle is-7 has-text-centered axiforma-bold text-new-purple pt-5"),e.appendChild(t),(o=document.createElement("div")).setAttribute("class","field is-grouped is-grouped-centered"),e.appendChild(o),(t=document.createElement("button")).setAttribute("class","button is-medium is-fullwidth is-border-semirounded bg-new-purple axiforma-bold has-text-white  is-size-6"),t.innerText="Reintentar",t.onclick=hiddenOfflinePopUp,o.appendChild(t)}function updateOnlineStatus(){(navigator.onLine?hiddenOfflinePopUp:showOfflinePopUp)()}function internetConnectivity(){navigator.onLine||showOfflinePopUp()}function selectCountryField(o,e){$("#country-selector").countrySelect({defaultCountry:e,preferredCountries:["sv","us"]}),$("#country-selector").countrySelect("selectCountry","sv"),o(JSON.stringify(getCountrySelected())),$("#country-selector").change(function(){var e=getCountrySelected(),t=(o(JSON.stringify(e)),document.querySelector("#phone-number-passenger"));window.intlTelInput(t,{initialCountry:e.iso2})})}function getCountrySelected(){return $("#country-selector").countrySelect("getSelectedCountryData")}function selectCountry(e){$("#country-selector").countrySelect("selectCountry",e)}function nationalityGetName(t,e){$("#nationality-selector").countrySelect({defaultCountry:e,preferredCountries:["sv","us"]}),$("#nationality-selector").countrySelect("selectNationality",e),t(JSON.stringify(getNationalitySelected())),$("#nationality-selector").change(function(){var e=getNationalitySelected();t(JSON.stringify(e))})}function getNationalitySelected(){return $("#nationality-selector").countrySelect("getSelectedCountryData")}function selectNationality(e){$("#nationality-selector").countrySelect("selectNationality",e)}function selectPhoneField(e){e=document.querySelector(e),window.intlTelInput(e,{initialCountry:"sv",preferredCountries:["sv","us"],utilsScript:"static/js/utils.js"})}function getPhoneNumberValidation(e){console.log("change");var t=document.querySelector(e),e=e.replace("#",""),t=window.intlTelInputGlobals.getInstance(t);return document.getElementById(e).focus(),[t.getNumber()||"",t.isValidNumber()||!1]}function setOneSignalExternalUserId(e){window.plugins.OneSignal.setExternalUserId(e,e=>{console.log("Results of setting external user id"),console.log(e),e.push&&e.push.success&&(console.log("Results of setting external user id push status:"),console.log(e.push.success)),e.email&&e.email.success&&(console.log("Results of setting external user id email status:"),console.log(e.email.success)),e.sms&&e.sms.success&&(console.log("Results of setting external user id sms status:"),console.log(e.sms.success))})}function verifyGPSAndLocationAuthorizatiEnabled(t,o,n){cordova.plugins.diagnostic.isGpsLocationEnabled(function(e){console.log("gps ",e),t(e)},function(e){console.error("The following error occurred: ",e)}),10<=parseFloat(device.version)?cordova.plugins.diagnostic.isLocationAuthorized(function(e){console.log("location ",e),o(e)},function(e){console.error("The following error occurred: "+e)}):o(!0),10<=parseFloat(device.version)?cordova.plugins.diagnostic.getPermissionsAuthorizationStatus(function(e){for(var t in e)switch(e[t]){case cordova.plugins.diagnostic.permissionStatus.GRANTED:console.log("Permission granted to use "+t),n(!0);break;case cordova.plugins.diagnostic.permissionStatus.NOT_REQUESTED:console.log("Permission to use "+t+" has not been requested yet"),n(!1);break;case cordova.plugins.diagnostic.permissionStatus.DENIED_ONCE:console.log("Permission denied to use "+t+" - ask again?"),n(!1);break;case cordova.plugins.diagnostic.permissionStatus.DENIED_ALWAYS:console.log("Permission permanently denied to use "+t+" - guess we won't be using it then!"),n(!1)}},function(e){console.error("The following error occurred: "+e)},[cordova.plugins.diagnostic.permission.ACCESS_BACKGROUND_LOCATION]):n(!0)}function verifyGPSLocationEnabled(t){cordova.plugins.diagnostic.isGpsLocationEnabled(function(e){e?(console.log("GPS location is enabled"),t&&t.setAttribute("class","modal has-text-centered")):(console.log("GPS location is disabled"),t&&t.setAttribute("class","modal is-active has-text-centered"))},function(e){console.error("The following error occurred: ",e)})}function verifyBackgroundLocationEnabled(o){10<=parseFloat(device.version)&&cordova.plugins.diagnostic.getPermissionsAuthorizationStatus(function(e){for(var t in e)switch(e[t]){case cordova.plugins.diagnostic.permissionStatus.GRANTED:o&&o.setAttribute("class","modal has-text-centered");break;case cordova.plugins.diagnostic.permissionStatus.NOT_REQUESTED:o&&o.setAttribute("class","modal is-active has-text-centered");break;case cordova.plugins.diagnostic.permissionStatus.DENIED_ONCE:o&&o.setAttribute("class","modal is-active has-text-centered"),console.log("Permission denied to use "+t+" - ask again?");break;case cordova.plugins.diagnostic.permissionStatus.DENIED_ALWAYS:o&&o.setAttribute("class","modal is-active has-text-centered"),console.log("Permission permanently denied to use "+t+" - guess we won't be using it then!")}},function(e){console.error("The following error occurred: "+e)},[cordova.plugins.diagnostic.permission.ACCESS_BACKGROUND_LOCATION])}function verifyLocationAuthorize(){let t=document.getElementById("use-location-dialog"),o=document.getElementById("enable-gps-dialog"),n=document.getElementById("update-location-permission");10<=parseFloat(device.version)?cordova.plugins.diagnostic.isLocationAuthorized(function(e){e?(console.log("Location is authorized"),t&&t.setAttribute("class","modal has-text-centered box px-5 is-full-screen")):(console.log("Location is unauthorized"),t&&t.setAttribute("class","modal is-active has-text-centered box px-5 is-full-screen")),verifyBackgroundLocationEnabled(n),verifyGPSLocationEnabled(o)},function(e){console.error("The following error occurred: "+e)}):verifyGPSLocationEnabled(o)}function requestLocationAuthorization(){var e=document.getElementById("use-location-dialog");e&&e.setAttribute("class","modal has-text-centered box px-5 is-full-screen"),cordova.plugins.diagnostic.requestLocationAuthorization(function(e){console.log(e)},function(e){console.error(e)},cordova.plugins.diagnostic.locationAuthorizationMode.WHEN_IN_USE)}function switchToLocationSettings(){var e=document.getElementById("enable-gps-dialog");e&&e.setAttribute("class","modal has-text-centered"),cordova.plugins.diagnostic.switchToLocationSettings()}function switchToAppSettings(){var e=document.getElementById("update-location-permission");e&&e.setAttribute("class","modal has-text-centered"),cordova.plugins.diagnostic.switchToSettings()}function appCheckTokenReq(e,t){appCheckToken(e,t)}function appCheckToken(t,o){void 0!==cordova.plugins?cordova.plugins.firebaseapptoken(function(e){console.log("appcheck token: ",e),t(e)},function(e){console.error(e),setTimeout(()=>{appCheckToken(t,o)},1e3),o(e)}):(console.log("cordova.plugins undefined"),setTimeout(()=>{appCheckToken(t,o)},1e3))}function checkGoogleDefined(){return"google"in window&&"object"==typeof google&&"object"==typeof google.maps}function screenAlwaysOn(){"plugins"in window&&"object"==typeof google&&"object"==typeof window.plugins.insomnia?window.plugins.insomnia.keepAwake():setTimeout(()=>{screenAlwaysOn()},1e3)}function allowSleepScreen(){"plugins"in window&&"object"==typeof google&&"object"==typeof window.plugins.insomnia?window.plugins.insomnia.allowSleepAgain():setTimeout(()=>{allowSleepScreen()},1e3)}function getNetworkStatus(){var e="";switch(navigator.connection.type){case Connection.UNKNOWN:e="Unknown";break;case Connection.ETHERNET:e="Ethernet";break;case Connection.WIFI:e="WiFi";break;case Connection.CELL_2G:e="2G";break;case Connection.CELL_3G:e="3G";break;case Connection.CELL_4G:e="4G";break;case Connection.CELL_5G:e="5G";break;case Connection.NONE:e="No signal"}return e}function sendEventoToGa(e,t){t=JSON.parse(t),gtag("event",e,t)}function smoothScrollDown(e){document.getElementById("chat-container").scrollTo({top:e,behavior:"smooth"})}window.addEventListener("online",updateOnlineStatus),window.addEventListener("offline",updateOnlineStatus);var{OverlayScrollbars,ScrollbarsHidingPlugin,SizeObserverPlugin,ClickScrollPlugin}=OverlayScrollbarsGlobal;function addScroll(){OverlayScrollbars(document.getElementById("chat-container"),{showNativeOverlaidScrollbars:!1,overflow:{x:"hidden",y:"scroll"},scrollbars:{theme:"os-theme-dark",visibility:"visible"}}),OverlayScrollbars(document.getElementById("default-message-container"),{showNativeOverlaidScrollbars:!1,overflow:{x:"scroll",y:"hidden"},scrollbars:{theme:"os-theme-dark",visibility:"visible"}})}function requestPermissionAndCall(s){document.addEventListener("deviceready",function(){switch(device.platform){case"Android":window.cordova&&cordova.deviceready?e():document.addEventListener("deviceready",e,!1);break;case"iOS":window.plugins.CallNumber.CallNumber(function(){console.log("Llamada realizada con exito")},function(e){console.error("Error al realizar la llamada: ",e)},s,!0);break;default:console.error("Dispositivo no disponible")}function e(){var e,t;function o(){console.log("Llamada realizada con exito.")}function n(e){console.error("Error al realizar la llamada: ",e)}function i(){window.plugins.CallNumber.callNumber(o,n,s,!0)}cordova.plugins&&cordova.plugins.permissions?(e=cordova.plugins.permissions,(t=e).checkPermission(t.CALL_PHONE,function(e){e.hasPermission?i():t.requestPermission(t.CALL_PHONE,function(e){e.hasPermission?i():console.warn("Permiso de llamada no concedido")},function(e){console.error("Error al solicitar permisos: ",e),console.error("No se pudieron solicitar los permisos. Por favor, revisa la configuración de tu dispositivo.")})})):console.error("El plugin de permisos no está disponible")}},!1)}export{getDateWithTime,getUtcDateWithTime,internetConnectivity,selectCountryField,selectCountry,nationalityGetName,selectNationality,selectPhoneField,getPhoneNumberValidation,setOneSignalExternalUserId,verifyGPSAndLocationAuthorizatiEnabled,verifyLocationAuthorize,requestLocationAuthorization,switchToLocationSettings,switchToAppSettings,appCheckTokenReq,checkGoogleDefined,screenAlwaysOn,allowSleepScreen,getNetworkStatus,sendEventoToGa,smoothScrollDown,addScroll,requestPermissionAndCall};